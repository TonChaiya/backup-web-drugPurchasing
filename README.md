backup-web-drugPurchasing

เวอร์ชั่นก่อนหน้า 1 - 6 เป็นเว็บเบิก อยู่ GithubforDevolopers มีเฉพาะ การเบิกยาไม่มี งานจัดซื้อ


**********************************************************************************************
************************************************************************
หลังจาก v.7.5.1 in github มีการอัพเดต แบบไม่ได้อัพขึ้น git 6 version เล็กๆ
ปัจจุบัน ต่อเป็น github v.8 เป็นตัวที่รวม 6 version เล็กๆเข้าไว้
-เพิ่มรายงานประมวลผลหลังการจัดซื้อโดย หลังเชค list รายการหน้าจัดซื้อว่าซื้อจากที่ไหนแล้ว สามารถกดประมวลผล ตาราง po_processed ได้
-po_processed ก่อนประมวลผล ให้ทำการ copy ตาราง po ในฐานข้อมูลพร้อมข้อมูลมาก่อน 
ใช้คำสั่ง 
sql : CREATE TABLE po_processed AS
SELECT * FROM po;

แล้วต่อด้วย
ALTER TABLE po_processed
ADD purchase_status ENUM('GPO', 'จัดซื้อบริษัท');

****ก่อนถึงจะสามารถใช้ฟังชั่นนี้ได้*****
-***database*****
account ; เก็บข้อมูลผู้ใช้
drug_list	; รายการยาที่มีให้เบิก
medicine_info ; รายการคุณลักษณะอ้างอิงตามเลข working_code
po ; รายการใบเบิกแยกรายการ แต่ละหน่วยที่เบิกเข้ามา

po_processed ; ตารางที่ทำการ copy formตาราง po เพื่อไปทำการประมวลผลของการทำเอกสารจัดซื้อ ปุ่มประมวลผล
processed ; เก็บรายการรวมรายการยาทั้งหมด ทุกหน่วยเบิกว่าตัวไหนซื้อ gpo หรือที่อื่น

หมายเหตุ ตาราง Processed and po_processed ทำงานร่วมกัน โดยอัพเดตสถานะการเบิก purchase_status ของตาราง po_processed อ้างอิงจากตาราง processed
โดยอิงจากคอลัม working_code และ purchase_status ที่เหมือนกัน
************************************************************************

version 7.5
-ลบ display_report.php ออกเนื่องจากไม่ได้ใช้งาน
แก้ไขชื่อ dashboard.copy.php เป็น withdrawUser.php เนื่องจากเป็นหน้าเบิกยา


**********************************************************************************************

version 7.4

**********************************************************************************************

version 7.3
 - เพิ่มไลบราลี phpword เพื่อให้สามารถสร้างไฟล์ word ได้
 - เพิ่ม ฟ้อน THsarabunnew and thsarabunit
 
 -เพิ่มการจัดการหน้าแรก ขึ้นเรื่องรายงาน (ยังไม่เสร็จ) ไม่แสดงเลขหน้าแรก
 -เพิ่มหน้า รอโหลดข้อมูล 100% ถึงจะดูข้อมูลได้ ให้กับ 
    admin_cancelled_report.php
    admin_po_number_report.php
    all_combined_report.php

Purchasing\indexPurchasing.php
เพิ่มการป้องกัน SQL Injection, CSRF, XSS
ตรวจสอบสิทธิ์การเข้าถึงและบันทึกกิจกรรม
เพิ่มการตรวจสอบการส่งฟอร์มและการทำงานของ JavaScript
ปรับปรุงโค้ดให้มีความปลอดภัยสูงขึ้น

**********************************************************************************************

version 7.2
config.php เพิ่มการเชื่อมต่อแบบ utfmb4 เพื่อรองรับภาษาไทย
generate_pdf.php (ใบเบิก)แก้ไขชื่อและวันที่แสดงผิดพลาดเป็น ดึงจากฐานข้อมูล po โดยตรงมาแสดง

แก้ไข search_item.php ให้รองรับการดึงข้อมูลแบบ utf-8 รองรับภาษาไทยจากฐานข้อมูล

Purchasing\duplicates.php
Purchasing\generate_report.php
Purchasing\indexPurchasing.php
แก้ไขการคำนวน มูลค่ารวมต่อรายการ และมูลค่ารวม/บิล ใหม่ คิดคำนวนจากการคูณกันใหม่แล้วแสดง แทนการ sum จากฐานข้อมูลที่มีข้อมูลมากและทำให้ผิดพลาด

**********************************************************************************************

version 7.1 แก้ไขprocess.php เนื่องจากคำนวณ ราคารวมแต่ละรายการไม่ถูกต้อง

**********************************************************************************************

Version.7.0
เพิ่มรายการหน้าจัดซื้อ หลังเบิกยาเสสร็จแล้วทุกหน่วยเบิก จะประมวลผลผ่าน

1.โฟล์เดอร์ Purchasing>process.php แล้วบันทึกลงฐานข้อมูลตาราง processed
2.เพิ่มการออกใบกำหนดคุณลักษณะ โดยแยก การจัดซื้อ GPO  และ บริษัททั่วไปได้
